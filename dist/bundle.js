(()=>{var e,t=document.getElementById("game-page"),n=document.getElementById("score-page"),o=document.getElementById("splash-page"),c=document.getElementById("countdown-page"),a=document.getElementById("start-form"),r=document.querySelectorAll(".radio-container"),i=document.querySelectorAll("input"),l=document.querySelectorAll(".best-score-value"),s=document.querySelector(".countdown"),d=document.querySelector(".item-container"),u=document.querySelector(".final-time"),m=document.querySelector(".base-time"),f=document.querySelector(".penalty-time"),v=document.querySelector(".play-again"),h=0,g=[],S=[],p=[],y=0,E=0,b={},q=[],x=0,C=0,I=0,L=0,T="0.0";function B(){l.forEach((function(e,t){e.textContent="".concat(p[t].bestScore,"s")}))}function k(){x+=.1,console.log(x),S.length==h&&(clearInterval(e),g.forEach((function(e,t){e.evaluated===S[t]||(I+=.5)})),L=x+I,console.log("time:",x,"penalty:",I,"final:",L),T=L.toFixed(1),C=x.toFixed(1),I=I.toFixed(1),m.textContent="Base Time: ".concat(C,"s"),f.textContent="Penalty: +".concat(I,"s"),u.textContent="".concat(T,"s"),p.forEach((function(e,t){if(h==e.questions){var n=Number(p[t].bestScore);(0===n||n>L)&&(p[t].bestScore=T)}})),B(),localStorage.setItem("bestScores",JSON.stringify(p)),d.scrollTo({top:0,behavior:"instant"}),setTimeout((function(){v.hidden=!1}),1e3),t.hidden=!0,n.hidden=!1)}function N(){t.hidden=!1,c.hidden=!0}function O(e){return Math.floor(Math.random()*Math.floor(e))}function w(){c.hidden=!1,o.hidden=!0,s.textContent="3",setTimeout((function(){s.textContent="2"}),1e3),setTimeout((function(){s.textContent="1"}),2e3),setTimeout((function(){s.textContent="GO!"}),3e3),function(){d.textContent="";var e=document.createElement("div");e.classList.add("height-240");var t=document.createElement("div");t.classList.add("selected-item"),d.append(e,t),function(){var e=O(h);console.log("correct equations:",e);var t=h-e;console.log("wrong equations:",t);for(var n=0;n<e;n++){y=O(9),E=O(9);var o=y*E,c="".concat(y," x ").concat(E," = ").concat(o);b={value:c,evaluated:"true"},g.push(b)}for(var a=0;a<t;a++){y=O(9),E=O(9);var r=y*E;q[0]="".concat(y," x ").concat(E+1," = ").concat(r),q[1]="".concat(y," x ").concat(E," = ").concat(r-1),q[2]="".concat(y+1," x ").concat(E," = ").concat(r);var i=O(2),l=q[i];b={value:l,evaluated:"false"},g.push(b)}shuffle(g)}(),g.forEach((function(e){var t=document.createElement("div");t.classList.add("item");var n=document.createElement("h1");n.textContent=e.value,t.appendChild(n),d.appendChild(t)}));var n=document.createElement("div");n.classList.add("height-500"),d.appendChild(n)}(),setTimeout(N,4e3)}a.addEventListener("click",(function(){r.forEach((function(e){e.classList.remove("selected-label"),e.children[1].checked&&e.classList.add("selected-label")}))})),t.addEventListener("click",(function n(){x=0,I=0,L=0,e=setInterval(k,100),t.removeEventListener("click",n)})),a.addEventListener("submit",(function(e){var t;e.preventDefault(),i.forEach((function(e){e.checked&&(t=e.value)})),h=t,console.log("question amount:",h),h&&w()})),localStorage.getItem("bestScores")?p=JSON.parse(localStorage.bestScores):(p=[{questions:10,bestScore:T},{questions:25,bestScore:T},{questions:50,bestScore:T},{questions:99,bestScore:T}],localStorage.setItem("bestScores",JSON.stringify(p))),B()})();